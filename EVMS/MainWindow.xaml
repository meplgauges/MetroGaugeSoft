<Window x:Class="EVMS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:EVMS"
        mc:Ignorable="d"
        Title="MetroGaugeSoft"
        Width="900" Height="600"
        MinWidth="600" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI"
        Background="#F9FAFB"
        WindowState="Maximized"
        ResizeMode="CanResize"
        WindowStyle="SingleBorderWindow">
    <Window.Resources>
            <!-- Your existing resources -->

            <Style x:Key="ActivePartStatusButtonStyle" TargetType="Button">
                <Setter Property="Width" Value="120"/>
                <Setter Property="Height" Value="30"/>
                <Setter Property="Foreground" Value="#F9FAFB"/>
                <Setter Property="Background" Value="#2563EB"/>
                <Setter Property="BorderBrush" Value="Transparent"/>
                <Setter Property="FontFamily" Value="Segoe UI Semibold"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="FontSize" Value="17"/>
                <Setter Property="VerticalAlignment" Value="Top"/>
                <Setter Property="HorizontalAlignment" Value="Right"/>
                <Setter Property="Padding" Value="10,0"/>
                <Setter Property="Cursor" Value="Arrow"/>
                <Setter Property="IsHitTestVisible" Value="False"/>
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="#1678F3" ShadowDepth="0" Opacity="0.6" BlurRadius="8"/>
                    </Setter.Value>
                </Setter>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                            CornerRadius="14"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                                <Grid>
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="6,0">
                                        <!-- Status indicator circle -->
                                        <Ellipse Width="10" Height="10" Margin="0,0,8,0" Fill="LightGreen">
                                            <Ellipse.Style>
                                                <Style TargetType="Ellipse">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsActivePart, RelativeSource={RelativeSource AncestorType=Window}}" Value="False">
                                                            <Setter Property="Fill" Value="#EF4444"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Ellipse.Style>
                                        </Ellipse>
                                        <!-- Content Text -->
                                        <ContentPresenter Content="{TemplateBinding Content}"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Other existing resources here -->


        <DropShadowEffect x:Key="DropShadow"
                          Color="#000000"
                          Direction="270"
                          ShadowDepth="6"
                          Opacity="0.15"
                          BlurRadius="15"/>
        <!-- Interactive link style -->
        <Style x:Key="InteractiveLinkTextBlock" TargetType="TextBlock">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="TextDecorations" Value="Underline"/>
            <Setter Property="Foreground" Value="#2563EB"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Opacity" Value="0.85"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#3B82F6"/>
                    <Setter Property="Opacity" Value="1"/>
                    <Setter Property="TextDecorations" Value="Underline"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <!-- Address Card style -->
        <Style x:Key="AddressCardStyle" TargetType="Border">
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#D1D5DB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="22"/>
            <Setter Property="Effect" Value="{x:Null}"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#93C5FD" BlurRadius="15" ShadowDepth="5" Opacity="0.35"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.04" ScaleY="1.04"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <SolidColorBrush x:Key="MenuItemForegroundBrush" Color="#F9FAFB" />

    </Window.Resources>

    <DockPanel LastChildFill="True">

        <!-- Top DockPanel hosting Menu and ActivePartStatusButton -->
        <DockPanel DockPanel.Dock="Top" Background="#1F2937" Height="36" LastChildFill="False">

            <!-- Menu docked left -->
            <Menu DockPanel.Dock="Left"
                  Background="#1F2937"
                  Foreground="#F9FAFB"
                  Height="40"
                  FontSize="16"
                  FontWeight="SemiBold"
                  FontFamily="Segoe UI Semibold"
                  BorderThickness="0"
                  Padding="0,2"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Left"
                  Width="Auto">
                <Menu.Resources>
                    <!-- Remove default menu item highlighting -->
                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#2563EB" />
                    <!-- Bright Blue highlight -->
                    <Style TargetType="MenuItem">
                        <Setter Property="Padding" Value="20,5" />
                        <Setter Property="Foreground" Value="#F9FAFB" />
                        <Setter Property="Background" Value="Transparent" />
                        <Setter Property="BorderThickness" Value="0" />
                        <Setter Property="BorderBrush" Value="Transparent" />
                        <Setter Property="Cursor" Value="Hand" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="MenuItem">
                                    <Grid>
                                        <Border x:Name="Border"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter ContentSource="Header"
                                                              RecognizesAccessKey="True"
                                                              HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"/>
                                        </Border>
                                        <!-- Popup for submenu -->
                                        <Popup x:Name="PART_Popup"
                                               Placement="Bottom"
                                               PlacementTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"
                                               AllowsTransparency="True"
                                               Focusable="False"
                                               PopupAnimation="Fade"
                                               StaysOpen="False">
                                            <Border Background="#1F2937"
                                                    BorderBrush="#2563EB"
                                                    BorderThickness="1"
                                                    CornerRadius="4"
                                                    SnapsToDevicePixels="True">
                                                <StackPanel IsItemsHost="True"
                                                            KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                            </Border>
                                        </Popup>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsHighlighted" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#2563EB"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Foreground" Value="#6B7280"/>
                                        </Trigger>
                                        <Trigger Property="IsSubmenuOpen" Value="True">
                                            <Setter TargetName="PART_Popup" Property="IsOpen" Value="True"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Menu.Resources>

                <MenuItem x:Name="RunPartMenu" Header="🏠 Home"  Click="HomeMenu_Click">
                    <!-- <MenuItem Header="Home..." Click="HomePage_Click" />
                    <MenuItem Header="Mesurment" Click="Mesurment_Click"/>
                    <MenuItem Header="Dashboard" Click="Dashboard_Click"/>

                    <Separator />
                    <MenuItem Header="__Exit" Click="Exit_Click"/>-->
                </MenuItem>

                <!-- <MenuItem x:Name="MastringConfigMenu" Header="_Mastring Configuration" PreviewMouseDown="SettingsMenu_PreviewMouseDown" Click="MenuItem_Click">
                    <MenuItem Header="Master Configuration" Click="MasterPage_Click"/>
                </MenuItem>-->

                <!--  <MenuItem x:Name="ReportMenu" Header="_Report" Click="MenuItem_Click" PreviewMouseDown="SettingsMenu_PreviewMouseDown">
                    <MenuItem Header="SPC Graph" Click="Report_Page"/>
                    <MenuItem Header="Report" Click="Report_View_Page"/>
                    <MenuItem Header="Repeatbilty" Click="Repeatbilty"/>
                </MenuItem>-->

                <!--  <MenuItem x:Name="SettingsMenu" Header="_Settings" PreviewMouseDown="SettingsMenu_PreviewMouseDown" Click="MenuItem_Click">
                    <MenuItem Header="Probe Setup" Click="RunMenuItem_Click"/>
                    <MenuItem Header="Part Manager" Click="PartManager_Click"/>
                    <MenuItem Header="Probe Installation" Click="ProbeInstall_Click"/>
                    <MenuItem Header="Part Configuration" Click="PartConfig_Click"/>
                    <MenuItem Header="I/O Configuration" Click="IO_Click"/>
                    <MenuItem Header="Controls" Click="CO_Click"/>
                    <MenuItem Header="Calcualtion " Click="Cal_Click"/>
                    <MenuItem Header="Login Setup" Click="LoginSetup_Click"/>
                </MenuItem>-->

            </Menu>

            <TextBox x:Name="StatusMessageTextBlock"
                     DockPanel.Dock="Left"
                     Margin="380,4,8,4"
                     Width="1000"
                     Height="32"
                     IsReadOnly="True"
                     HorizontalAlignment="Right"
                     VerticalAlignment="Center"
                     Background="#2D3748"       
                     Foreground="#F56565"
                     Padding="10,0"
                     FontSize="20"
                     BorderThickness="0"
                     FontWeight="SemiBold"
                     Text=""
                     HorizontalContentAlignment="Center"
                     VerticalContentAlignment="Center"
                     FontFamily="Segoe UI"
         />
                <!-- Rounded corners -->

                <!-- Rounded corners for modern look -->



            <Button x:Name="ActivePartStatusButton"
                    DockPanel.Dock="Left"
                    Width="100" Height="30"
                    Margin="160,0,0,0" 
                    VerticalAlignment="Center"
                    Style="{StaticResource ActivePartStatusButtonStyle}"
                    Content="Active Part"/>

            <Button x:Name="LogoutButton"
                    DockPanel.Dock="Right"
                    Width="60" Height="30"
                    Margin="0,0,10,0"
                    Background="Red"
                    Foreground="White"
                    FontWeight="Bold"
                    Content="Logout"
                    ToolTip="Logout from the application"
                    Click="LogoutButton_Click"/>


            <Button x:Name="LoginButton"
                    DockPanel.Dock="Right"
                    Width="60"
                    Height="30"
                    Margin="0,0,15,0"
                    Background="Green"
                    Foreground="White"
                    FontWeight="Bold"
                    Content="Login"
                    ToolTip="Login to the application"
                    Click="LoginButton_Click"/>


        </DockPanel>

        

        <!-- Optional ScrollViewer for very small window sizes -->
        <!--
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Margin="0">
        -->

        <Grid x:Name="MainContentGrid" Background="Transparent" Margin="0" MinWidth="600">
            <!-- Transparent background image -->
            <Image Source="/Resource/bg2.jpg"
           Stretch="UniformToFill"
           VerticalAlignment="Center"
                   
           Opacity="0.60"
           Panel.ZIndex="0" />
            
            
            <!-- Your existing content comes here, for example: -->
            <Border Panel.ZIndex="1"  Padding="30"  BorderThickness="2"  Effect="{DynamicResource DropShadow}">

                <Grid>
                    <Grid.ColumnDefinitions>
                        <!-- Left side grows more -->
                        <ColumnDefinition Width="2*" MinWidth="370"/>
                        <!-- Right side (logo) shrinks gracefully -->
                        <ColumnDefinition Width="1.6*" MinWidth="150"/>
                    </Grid.ColumnDefinitions>


                    <Border Background="#AA000000"  
                        Visibility="Collapsed" x:Name="LoadingMessageBorder"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >

                        <TextBlock Text="Please wait, initializing..."
                                   Foreground="White"
                                   FontSize="24"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/> 
                    </Border>
                    <!-- Company Info (Left) -->
                  
                    <StackPanel x:Name="CompanyInfoPanel"
                                Grid.Column="0"
                                Margin="100,0,0,0"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center"
                                Width="Auto"
                                MinWidth="350" MaxWidth="600">

                        <!-- Company Name -->
                        <TextBlock x:Name="CompanyNameTextBlock"
                                   Text="Metrology Equipment Pvt. Ltd."
                                   FontSize="36"
                                   FontWeight="Bold"
                                   Foreground="#1E3A8A"
                                   TextAlignment="Left"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,12"
                                   Effect="{DynamicResource DropShadow}"/>  

                        <!-- Accent underline -->
                        <Rectangle Height="4" Width="140"
                                   Fill="#2563EB"
                                   RadiusX="2" RadiusY="2"
                                   HorizontalAlignment="Left"
                                   Margin="0,0,0,20"/>

                        <!-- Contact Header -->
                        <TextBlock Text="📍 Contact Us"
                                   FontSize="22"
                                   FontWeight="SemiBold"
                                   Foreground="#1D4ED8"
                                   Margin="0,0,0,18"/>  

                        <!-- Address Card -->
                        <Border Style="{StaticResource AddressCardStyle}"
                                MaxWidth="440"
                                MinWidth="220"
                                HorizontalAlignment="Left"
                                Background="Transparent"
                                Padding="20"
                                CornerRadius="14"
                                BorderBrush="#E5E7EB"
                                BorderThickness="1"
                                Effect="{StaticResource DropShadow}">   
                            <StackPanel>
                                <TextBlock Text="# 55/18, Bellahalli Village"
                                           Foreground="#111827"
                                           FontSize="16"
                                           FontWeight="Medium"
                                           TextWrapping="Wrap"/>
                                <TextBlock Text="Thanisandra Main Road, Near Bellahalli Cross"
                                           FontWeight="SemiBold"
                                           FontSize="15"
                                           Margin="0,6,0,0"
                                           TextWrapping="Wrap"/>
                                <TextBlock Text="Yelahanka Hobli, Bangalore - 560 064"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Margin="0,6,0,0"
                                           TextWrapping="Wrap"/>    

                                <!-- Contact Links -->
                                <TextBlock Text="✉️ info@meplgauges.com"
                                           Style="{StaticResource InteractiveLinkTextBlock}"
                                           FontSize="15"
                                           Margin="0,18,0,0"
                                           MouseDown="EmailLink_Click"/>
                                <TextBlock Text="🌐 Meplgauges.com"
                                           Style="{StaticResource InteractiveLinkTextBlock}"
                                           FontSize="15"
                                           Margin="0,10,0,0"
                                           MouseDown="WebsiteLink_Click"/>  
                            </StackPanel>
                        </Border>
                    </StackPanel>


                    <!-- Logo (Right, auto-resizes) -->
                    <Viewbox Grid.Column="1"
                             Stretch="Uniform"
                             VerticalAlignment="Center"
                             HorizontalAlignment="Left"
                             x:Name="LogoPanel"
                             MaxWidth="700"
                             MaxHeight="800"
                             MinWidth="150"
                             MinHeight="150" Margin="0,0,45,0">

                        <Image Source="/Resource/generated-image.png"
                                   Stretch="Uniform"
                                   Width="450"
                                   Height="600"/>

                    </Viewbox>


                </Grid>

            </Border>
        </Grid>

        
    </DockPanel>
</Window>
